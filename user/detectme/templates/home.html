<!-- home.html -->
{% load static %}
<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>SSUTUDY</title>
        <link rel="stylesheet" href="{% static '/css/main.css' %}">
    </head>
    <body style="background-color:Beige;">
        <h1 id=main>SSUTUDY</h1>
        <img class="profile" src="{{user.profile_img.url}}" alt="Image not found" onerror="this.src=`{% static 'image/profile.png' %}`;" style="width: 200px; height:200px;"/>
        <div class="v-line">
        </div>
        <a class="reg" href="{% url 'user:signup'%}">회원가입</a>
        <a class="reg" href="{% url 'user:login'%}">로그인</a>
        <table>
            <tr>
                <td>
                    <div id="current_date" style=" text-align: center;"></p>
                        <script>
                        var week = new Array('일요일', '월요일', '화요일', '수요일', '목요일', '금요일', '토요일');
                        date = new Date();
                        year = date.getFullYear();
                        month = date.getMonth() + 1;
                        day = date.getDate();
                        today = date.getDay();
                        label = week[today];
                        document.getElementById("current_date").innerHTML = year + "년 " + month + "월 " + day + "일 " + label;
                        </script>
                        <h1 id = "stopwatch">00:00:00</h1>
                        <button onclick="record()";>시작하기</button>
                        <button onclick="pause()";>정지하기</button>
                    </div>
                <td>
                    <img id="img" src="{% static 'image/rectangle.png' %}"
                        style="width: 400px; height: 300px"/>
                </td>
            </tr>
            <tr>
                <td><h1 id="topic">오늘 할 일</h1>
                    <a class="reg" href="{% url 'user:todo'%}">오늘의 공부</a></td>
            </tr>
            <tr>
                <td>
                    <ul>
                        {% for i in user.all_items %}
                        <li>{{i.content}}</li>
                        {% endfor %}
                    </ul> 
                </td>
            </tr>
        </table>
        <p style="margin-left:110px; font-size: 25px;">{{user.username}}</p>
        <script>
            function record(){
                //startClock();
                document.getElementById("img").src = "http://127.0.0.1:8000/SSUTUDY/detectme";
                startClock();
                //setTimeout(startClock(),13000);
                
            }
            function pause(){
                stopClock();
            }
        </script>
        <script src="/static/js/stopwatch.js" type="text/javascript"></script>
    </body>
</html>